### 浏览器的渲染流程

1. 生成DOM（词法分析，语法分析）
2. 计算样式（先生成styleSheets，根据层叠规则和继承规则计算每个DOM节点的样式，并保存在computedStyle中）
3. 布局（过滤掉不显示的元素，生成布局数，计算每个元素的具体位置）
4. 分层（根据布局树对元素进行分层）
5. 绘制（生成一系列的绘制指令，交给合成线程）
6. 合成（合成线程上完成）
   - 将图层进行分块，生成图块
   - 优先选择视口附近的图块，栅格化生成位图（GPU加速）
   - 发送DrawQuad指令给主线程
7. 显示内容。主线程接收到DrawQuad指令，调用操作系统的图形接口将内容显示在屏幕上



### 重排和重绘

​	当我们修改了元素的几何属性，浏览器会触发重新布局和分层以及之后的一系列的阶段，这个过程叫重排。

​	当我们修改了元素的非几何属性，浏览器会跳过布局和分层，直接进入绘制阶段，这个过程叫重绘。

​	重排： **计算属性>布局>分层>绘制>合成>显示**

​	重绘： **计算属性>绘制>合成>显示**   

​	从流程上可以看出来重排比重绘多了布局和分层的阶段，所以效率也会更低，这就是我们应该尽量避免重排的原因。

